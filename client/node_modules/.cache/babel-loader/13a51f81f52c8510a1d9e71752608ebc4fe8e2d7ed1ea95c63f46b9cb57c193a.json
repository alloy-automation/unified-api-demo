{"ast":null,"code":"var _jsxFileName = \"/Users/greggmojica/Desktop/SDKs/unified-api-demo/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { baseUrl } from \"./config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [showInput, setShowInput] = useState(true);\n  const [showButton, setShowButton] = useState(false);\n  const [alloyUserId, setAlloyUserId] = useState(\"\");\n  useEffect(() => {}, []);\n  const handleKeyPress = async event => {\n    if (event.key === \"Enter\") {\n      let response;\n      try {\n        let data = {\n          userId: event.target.value\n        };\n        try {\n          response = await axios.post(`${baseUrl}/user`, data);\n        } catch (err) {\n          console.log(`there was an error: ${err}`);\n        }\n        if (response) {\n          setAlloyUserId(event.target.value);\n          setShowInput(false);\n          setShowButton(true);\n        }\n      } catch (e) {\n        console.log(`An error occurred: ${e}`);\n      }\n    }\n  };\n  const handleAuth = async () => {\n    let response = await axios.get(`${baseUrl}/token/${alloyUserId}`);\n    window.Alloy.setToken(response.data.token);\n    window.Alloy.authenticate({\n      app: \"shopify\",\n      callback: data => {\n        if (data) {\n          const connectionId = data.connectionId;\n          alert(`A connection was created. ConnectionId: ${connectionId}. Find more information in the console.`);\n          console.log('-----------------------------');\n          console.log(`connectionId: ${connectionId}`);\n          console.log(data);\n          console.log('-----------------------------');\n        }\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Hello from Alloy!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Enter your username to create an account\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), showInput && /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        onKeyPress: handleKeyPress\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 23\n      }, this), showButton && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleAuth,\n        children: \"Click Me\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 24\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"aYBiA91yluls1Pv4kc8PLjzUqbQ=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","baseUrl","jsxDEV","_jsxDEV","App","_s","showInput","setShowInput","showButton","setShowButton","alloyUserId","setAlloyUserId","handleKeyPress","event","key","response","data","userId","target","value","post","err","console","log","e","handleAuth","get","window","Alloy","setToken","token","authenticate","app","callback","connectionId","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onKeyPress","onClick","_c","$RefreshReg$"],"sources":["/Users/greggmojica/Desktop/SDKs/unified-api-demo/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { baseUrl } from \"./config\";\n\nfunction App() {\n\n  const [showInput, setShowInput] = useState(true);\n  const [showButton, setShowButton] = useState(false);\n  const [alloyUserId, setAlloyUserId] = useState(\"\");\n\n  useEffect(() => {\n  }, []);\n\n  const handleKeyPress = async (event) => {\n    if (event.key === \"Enter\") {\n      let response;\n\n      try {\n        let data = { userId: event.target.value };\n        try {\n          response = await axios.post(`${baseUrl}/user`, data);\n        } catch (err) {\n          console.log(`there was an error: ${err}`);\n        }\n\n        if (response) {\n          setAlloyUserId(event.target.value);\n          setShowInput(false);\n          setShowButton(true);\n        }\n      } catch (e) {\n        console.log(`An error occurred: ${e}`);\n      }\n    }\n  };\n\n  const handleAuth = async () => {\n    let response = await axios.get(\n      `${baseUrl}/token/${alloyUserId}`\n    );\n    window.Alloy.setToken(response.data.token);\n    window.Alloy.authenticate({\n      app: \"shopify\",\n      callback: (data) => {\n        if (data) {\n          const connectionId = data.connectionId;\n          alert(`A connection was created. ConnectionId: ${connectionId}. Find more information in the console.`)\n          console.log('-----------------------------')\n          console.log(`connectionId: ${connectionId}`);\n          console.log(data)\n          console.log('-----------------------------')  \n        }\n      },\n    });\n  };\n\n  return (\n    <div>\n      <div>\n        <h1>Hello from Alloy!</h1>\n        <p>Enter your username to create an account</p>\n        {showInput && <input type=\"text\" onKeyPress={handleKeyPress} />}\n        {showButton && <button onClick={handleAuth}>Click Me</button>}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}